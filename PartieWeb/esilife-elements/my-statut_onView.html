<link rel="import" href="../components/polymer/polymer.html">

<link href="../components/paper-shadow/paper-shadow.html" rel="import">
<link rel="import" href="my-statut-footer_onView.html"/>
<link rel="import" href="my-statut-header_onView.html"/>
<link rel="import" href="my-statut-body_onView.html"/>
<link rel="import" href="my-statut_listComment.html"/>

<polymer-element name="my-statut_onView" attributes="statut comment"
		on-modifier='{{modifier}}'
		on-supprimer='{{supprimer}}'>
  <template>
  	<style shim-shadowdom>
  		.tag-container{
  			padding: 0.5em 0.3em;
  		}
  		.card{
  			
  			background-color: #FFFFFF;
  		}
  		.body{
  			padding: 0.2em;
  		}
    </style>
    <paper-shadow class="card" z="1">
    	<div class="tag-container">
	  		<my-statut-header_onView class="header"
	  				userName='{{statut.userName}}'
	  				datePub='{{statut.datePub}}'
	  				userId='{{statut.userId}}'>
	  			</my-statut-header_onView>
		    <my-statut-body_onView class="body" 
		    		contentText='{{statut.contentText}}'
		    		contentMedia='{{statut.contentMedia}}'
		    		statutId='{{statut.statutId}}'>
		    	</my-statut-body_onView>
		    <my-statut-footer_onView class="footer"
		    		like='{{statut.like}}'
		    		nbrLike='{{statut.nbrLike}}'
		    		statutId='{{statut.statutId}}'>
		    	</my-statut-footer_onView>
    	</div>
		<my-statut_listComment content='{{comment}}'></my-statut_listComment>
    </paper-shadow>
  </template>
  <script>
	Polymer('my-statut_onView', {
		statut: {},
		comment: {},
		ready: function () {
	   },
	    
      	modifier: function(e, detail, sender) {
      		var body = this.shadowRoot.querySelector('my-statut-body_onView');
      		body.modifier();
	      },
	      
      supprimer: function(e, detail, sender) {
  		var body = this.shadowRoot.querySelector('my-statut-body_onView');
  		body.supprimer();
	    this.remove();	
      }
	});
  </script>
</polymer-element>